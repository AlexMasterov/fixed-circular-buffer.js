function t(){return{t:0,b:0,l:Array(2048),n:null}}export default class CircularBuffer{constructor(){this.h=this.t=t(),this.s=0}get length(){return this.s+2048}get size(){return this.h.t>this.t.b?this.s+(this.h.t-this.t.b):this.s-(this.t.b-this.h.t)}push(s){const h=this.h;h.l[h.t]=s,h.t=h.t+1&2047,(2047&h.t)===h.b&&(this.h=h.n=t(),this.s+=2048)}shift(){const t=this.t,s=t.l[t.b];return void 0===s?null:(t.l[t.b]=void 0,t.b=t.b+1&2047,t.t===t.b&&null!==t.n&&(this.t=t.n,this.s-=2048),s)}}
